<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quick tips! &mdash; MAGEMin 2022 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Firewall warning (Apple M1)" href="faq.html" />
    <link rel="prev" title="Single point calculation Tutorial" href="julia/Run.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/2022_MAGEMin_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Installation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="stp.html">Linux-based system</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stp/Linux.html">External libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="stp/Linux.html#magemin">MAGEMin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stp.html#macos-system">macOS system</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stp/macOS.html">External libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="stp/macOS.html#magemin">MAGEMin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stp.html#optional-developers">Optional (developers)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stp/Dev.html">Python libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="stp/Dev.html#c-tools">C tools</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Methods and examples:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="man.html">Thermodynamic problem</a><ul>
<li class="toctree-l2"><a class="reference internal" href="man/Thermo.html">Problem definition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="man/Thermo.html#total-gibbs-energy">1. Total Gibbs energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/Thermo.html#gibbs-duhem-constraint">2. Gibbs-Duhem constraint</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/Thermo.html#mass-constraint">3. Mass constraint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="man/Thermo.html#minimization-approach">Minimization approach</a></li>
<li class="toctree-l2"><a class="reference internal" href="man/Thermo.html#algorithm-demonstration">Algorithm demonstration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="man.html#phase-diagrams">Phase diagrams</a><ul>
<li class="toctree-l2"><a class="reference internal" href="man/Examples.html">Examples of phase diagrams</a></li>
<li class="toctree-l2"><a class="reference internal" href="man/Examples.html#peridotite-klb1">Peridotite (KLB1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="man/Examples.html#pyroxenite-mixg1">Pyroxenite (MIXG1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="man/Examples.html#basalt-re46">Basalt (RE46)</a></li>
<li class="toctree-l2"><a class="reference internal" href="man/Examples.html#basalt-nmorb">Basalt (NMORB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="man/Examples.html#hydrous-basalt">Hydrous basalt</a></li>
<li class="toctree-l2"><a class="reference internal" href="man/Examples.html#tonalite-101">Tonalite 101</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Cookbook:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ckbk.html">Command line minimization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ckbk/Commands.html">List of arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="ckbk/Commands.html#single-point-calculation">Single point calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ckbk/Commands.html#multiple-points-calculation">Multiple points calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ckbk/Commands.html#multiple-points-in-parallel">Multiple points in parallel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ckbk.html#data-output">Data output</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ckbk/out_struct.html">THERMOCALC-like output</a></li>
<li class="toctree-l2"><a class="reference internal" href="ckbk/out_struct.html#matlab-output">MATLAB output</a></li>
<li class="toctree-l2"><a class="reference internal" href="ckbk/out_struct.html#as-a-nested-structure">As a nested structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ckbk/out_struct.html#computation-information">Computation information</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/out_struct.html#system-information">System information</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/out_struct.html#phase-proportions">Phase proportions</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/out_struct.html#solution-phases-information">Solution phases information</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/out_struct.html#id1">Solution phases information</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ckbk.html#pseudosection-generator">Pseudosection generator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ckbk/gui.html">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="ckbk/gui.html#klb-1-pseudosection-tutorial">KLB-1 Pseudosection tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#sarting-gui">Sarting GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#set-p-t-conditions">Set P-T conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#mesh-refinement-and-computation-options">Mesh refinement and computation options</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#choose-bulk-rock-composition">Choose bulk-rock composition</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#compute-pseudosection">Compute pseudosection</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#refine-pseudosection">Refine pseudosection</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#change-displayed-field">Change displayed field</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#display-stable-phases-labels">Display stable phases labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#save-pseudosection-data">Save pseudosection data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ckbk/gui.html#p-x-and-t-x-diagrams">P-X and T-X diagrams</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#select-diagram-type">Select diagram type</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#select-compositional-range-x">Select compositional range (X)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ckbk/gui.html#save-single-point-output">Save single point output</a></li>
<li class="toctree-l2"><a class="reference internal" href="ckbk/gui.html#display-iso-contours">Display iso-contours</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#display-phase-fraction-mode">Display phase fraction (mode)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ckbk/gui.html#display-end-member-fraction">Display end-member fraction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ckbk/gui.html#save-figure-vector">Save figure (vector)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Julia interface:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="julia.html">Julia interface to MAGEMin</a></li>
<li class="toctree-l1"><a class="reference internal" href="julia.html#installation">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="julia/Installation.html">MAGEMin_C.jll installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="julia/Installation.html#install-julia">Install Julia</a></li>
<li class="toctree-l2"><a class="reference internal" href="julia/Installation.html#install-magemin-c">Install MAGEMin_C</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="julia.html#use-magemin-c">Use MAGEMin_C</a><ul>
<li class="toctree-l2"><a class="reference internal" href="julia/Run.html">Single point calculation Tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="julia/Run.html#initialize-database">Initialize database</a></li>
<li class="toctree-l3"><a class="reference internal" href="julia/Run.html#set-p-t-pressure-temperature">Set P-T-(pressure temperature)</a></li>
<li class="toctree-l3"><a class="reference internal" href="julia/Run.html#set-bulk-rock-composition">Set bulk-rock composition</a></li>
<li class="toctree-l3"><a class="reference internal" href="julia/Run.html#set-the-level-of-verbose-1-0-1">Set the level of verbose <code class="docutils literal notranslate"><span class="pre">[-1,0,1]</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="julia/Run.html#call-optimization-routine-for-given-p-t-x">Call optimization routine for given P-T-X</a></li>
<li class="toctree-l3"><a class="reference internal" href="julia/Run.html#display-minimized-point">Display minimized point</a></li>
<li class="toctree-l3"><a class="reference internal" href="julia/Run.html#access-output-structure">Access output structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="julia/Run.html#provide-custom-bulk-rock-composition">Provide custom bulk rock composition</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Known issues &amp; Tips!</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick tips!</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#compiler-linux">Compiler (Linux)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimum-pressure">Minimum pressure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reduced-chemical-system">Reduced chemical system</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-oxygen-content">Set Oxygen content</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#known-problems">Known problems</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#reduced-chemical-systems">Reduced chemical systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="#low-temperature-stabilization">Low temperature stabilization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hp-lt-melt-prediction">HP-LT melt prediction</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQs:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Firewall warning (Apple M1)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers section:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Add database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dev/Dev.html">Analytical formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev/Dev.html#generate-pseudocompounds">Generate pseudocompounds</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Source code:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="src.html">Main algorithm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src/MAGEMin.html">MAGEMin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src/MAGEMin.html#mineral-assemblage-gibbs-energy-minimization">Mineral Assemblage Gibbs Energy Minimization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src/simplex_levelling.html">Simplex levelling</a></li>
<li class="toctree-l2"><a class="reference internal" href="src/PGE_function.html">PGE_function</a></li>
<li class="toctree-l2"><a class="reference internal" href="src/phase_update_function.html">phase_update_function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src/phase_update_function.html#pp-ss-flags">PP &amp; SS_flags</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src/dump_function.html">dump_function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="src.html#pure-phases-functions">Pure phases functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src/gem_function.html">gem_function</a></li>
<li class="toctree-l2"><a class="reference internal" href="src/pp_min_function.html">pp_min_function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src/pp_min_function.html#pure-phase-minimization-function">Pure phase minimization function</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="src.html#solution-phases-functions">Solution phases functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src/gss_init_function.html">gss_init_function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src/gss_init_function.html#pp-ss-flags">PP &amp; SS_flags</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src/gss_function.html">gss_function</a></li>
<li class="toctree-l2"><a class="reference internal" href="src/ss_min_function.html">ss_min_function</a></li>
<li class="toctree-l2"><a class="reference internal" href="src/NLopt_opt_function.html">NLopt_opt_function</a></li>
<li class="toctree-l2"><a class="reference internal" href="src/objective_functions.html">objective_functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="src.html#toolkit">Toolkit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src/toolkit.html">toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="src/io_function.html">io_function</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MAGEMin</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Quick tips!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/issues.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <a class="reference internal image-reference" href="_images/tips.png"><img alt="_images/tips.png" class="align-right" src="_images/tips.png" style="width: 80px;" /></a>
<section id="quick-tips">
<h1>Quick tips!<a class="headerlink" href="#quick-tips" title="Permalink to this headline"></a></h1>
<section id="compiler-linux">
<h2>Compiler (Linux)<a class="headerlink" href="#compiler-linux" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>When using the C version of MAGEMin on linux, the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> compiler yields slightly better performances (5-10% faster) over the <code class="docutils literal notranslate"><span class="pre">clang</span></code>.</p></li>
</ul>
</section>
<section id="minimum-pressure">
<h2>Minimum pressure<a class="headerlink" href="#minimum-pressure" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Minimum pressure for phase equilibrium calculation should be set to 0.01 kbar. A choosen pressure of 0.0 will lead to failed minimization in some cases.</p></li>
</ul>
</section>
<section id="reduced-chemical-system">
<h2>Reduced chemical system<a class="headerlink" href="#reduced-chemical-system" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>While <code class="docutils literal notranslate"><span class="pre">H2O</span></code> can be set to 0.0, other system components should be set to low value to ensure stable and efficient computation.</p></li>
<li><p>We recommend a minimum value of 0.01 <code class="docutils literal notranslate"><span class="pre">[mol%]</span></code> (0.0001 <code class="docutils literal notranslate"><span class="pre">[mol</span> <span class="pre">fraction]</span></code>)</p></li>
</ul>
</section>
<section id="set-oxygen-content">
<h2>Set Oxygen content<a class="headerlink" href="#set-oxygen-content" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Such like in THERMOCALC, the oxygen content <code class="docutils literal notranslate"><span class="pre">O</span></code> is set as <code class="docutils literal notranslate"><span class="pre">O</span> <span class="pre">[mol%]</span></code> = <code class="docutils literal notranslate"><span class="pre">Fe2O3</span> <span class="pre">[mol%]</span></code>.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">Fe2O3</span></code>-content is not available you can turn off <code class="docutils literal notranslate"><span class="pre">O</span></code> by setting it to 0.01 <code class="docutils literal notranslate"><span class="pre">[mol%]</span></code>.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="_images/wip.png"><img alt="_images/wip.png" class="align-right" src="_images/wip.png" style="width: 80px;" /></a>
</section>
</section>
<section id="known-problems">
<h1>Known problems<a class="headerlink" href="#known-problems" title="Permalink to this headline"></a></h1>
<section id="reduced-chemical-systems">
<h2>Reduced chemical systems<a class="headerlink" href="#reduced-chemical-systems" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>While <code class="docutils literal notranslate"><span class="pre">H2O</span></code> can be prescribed to 0.0 without impacting the efficiency of the minimization we found out that <code class="docutils literal notranslate"><span class="pre">Cr2O3</span></code>, <code class="docutils literal notranslate"><span class="pre">TiO2</span></code>, <code class="docutils literal notranslate"><span class="pre">O</span></code> etc. should not be set to 0.0 without strongly degrading the stability of the minimization.</p></li>
<li><p>Instead setting a small amount of 0.01 mol% stabilizes the minimization and yields the expected results.</p></li>
<li><p>This also applies when an oxide has to be turned off e.g., during the computing liquid line of descent</p></li>
<li><p>The current implementation of the solution phase models (EOS) from Holland et al. (2018) do not allow removing several oxides such as <code class="docutils literal notranslate"><span class="pre">MgO</span></code> and <code class="docutils literal notranslate"><span class="pre">CaO</span></code>. This would lead to ill-defined solution phases models such as for olivine and plagioclase.</p></li>
</ul>
</section>
<section id="low-temperature-stabilization">
<h2>Low temperature stabilization<a class="headerlink" href="#low-temperature-stabilization" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>In a number of cases using the Igneous database, mainly water under-saturated cases, and at temperature below 600-650°C, the PGE solver fails to provide consistent minimizations.</p></li>
<li><p>In nearly all of these cases, the Gibbs-Duhem constraint cannot be enforced by the PGE (which relies on being able to enforce it), and an alternative “legacy” has now been added. The “legacy” solver uses the approach presented by de Capitani &amp; Brown (1987). This approach enforces the Gibbs-Duhem constraint only on the effective composition of the solution phase and not on each constitutive endmember of the solution phase such as in the PGE. When the PGE method fails the “legacy” solution can be seen as a relaxed Gibbs-Duhem constraint solution.</p></li>
<li><p>Note that in the cases of non PGE failure, the PGE and the “legacy” solvers yield identical results, which points out to thermodynamic database limitation outside calibration range.</p></li>
</ul>
</section>
<section id="hp-lt-melt-prediction">
<h2>HP-LT melt prediction<a class="headerlink" href="#hp-lt-melt-prediction" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>For water-saturated composition, we found that at pressure &gt; 20 kbar and temperature &lt; 650°C melt is predicted to be stable.</p></li>
<li><p>This is a known problem from the THERMOCALC developer community, and a fix should be provided in a future version of the igneous thermodynamic dataset.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="julia/Run.html" class="btn btn-neutral float-left" title="Single point calculation Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="faq.html" class="btn btn-neutral float-right" title="Firewall warning (Apple M1)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Riel, N., &amp; Kaus, B.J.P..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>